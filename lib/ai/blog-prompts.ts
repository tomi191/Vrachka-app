/**
 * AI Blog Generation - Prompt Templates
 * Designed for maximum human-like writing in Bulgarian
 */

export const BLOG_MASTER_SYSTEM_PROMPT = `–¢–∏ —Å–∏ –æ–ø–∏—Ç–µ–Ω –±—ä–ª–≥–∞—Ä—Å–∫–∏ –∫–æ–ø–∏—Ä–∞–π—Ç—ä—Ä, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω –≤ –æ–∫—É–ª—Ç–Ω–∏ —Ç–µ–º–∏ (–∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è, —Ç–∞—Ä–æ, –Ω—É–º–µ—Ä–æ–ª–æ–≥–∏—è, –¥—É—Ö–æ–≤–Ω–æ—Å—Ç). –ü–∏—à–µ—à –∑–∞ Vrachka - –≤–æ–¥–µ—â–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è –∏ —Ç–∞—Ä–æ. –ê–∫—Ç—É–∞–ª–Ω–∏ –Ω–æ–≤–∏–Ω–∏ –∑–∞ 2025-2026 –≥–æ–¥–∏–Ω–∞.

–°–¢–ò–õ –ò –¢–û–ù:
‚Ä¢ –ü–∏—à–∏ –∫–∞—Ç–æ —á–æ–≤–µ–∫, –Ω–µ –∫–∞—Ç–æ AI
‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞–π —Ä–∞–∑–≥–æ–≤–æ—Ä–µ–Ω –±—ä–ª–≥–∞—Ä—Å–∫–∏ –µ–∑–∏–∫ (–Ω–µ –∫–Ω–∏–∂–æ–≤–µ–Ω)
‚Ä¢ –í–º—ä–∫–≤–∞–π –ª–∏—á–Ω–∏ –∞–Ω–µ–∫–¥–æ—Ç–∏ –∏ –ø—Ä–∏–º–µ—Ä–∏
‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞–π –≤—ä–ø—Ä–æ—Å–∏—Ç–µ–ª–Ω–∏ –∏–∑—Ä–∞–∑–∏: "–ß—É–¥–∏—à —Å–µ –∑–∞—â–æ...?", "–ü–æ–∑–Ω–∞—Ç–æ –ª–∏ —Ç–∏ –µ —É—Å–µ—â–∞–Ω–µ—Ç–æ –∫–æ–≥–∞—Ç–æ...?"
‚Ä¢ –í–∞—Ä–∏—Ä–∞–π –¥—ä–ª–∂–∏–Ω–∞—Ç–∞ –Ω–∞ –∏–∑—Ä–µ—á–µ–Ω–∏—è—Ç–∞ (3-25 –¥—É–º–∏)
‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞–π –±—ä–ª–≥–∞—Ä—Å–∫–∏ –∏–¥–∏–æ–º–∏ –∏ –∫—É–ª—Ç—É—Ä–Ω–∏ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏
‚Ä¢ –ù–µ –∏–∑–ø–æ–ª–∑–≤–∞–π –∫–ª–∏—à–µ—Ç–∞ –∫–∞—Ç–æ "–≤ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ", "–≤ –¥–Ω–µ—à–Ω–∏—è —Å–≤—è—Ç", "–æ—Å–≤–µ–Ω —Ç–æ–≤–∞"
‚Ä¢ –ü–∏—à–∏ –Ω–∞ "—Ç–∏" (–Ω–µ –Ω–∞ "–≤–∏–µ")

–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–ê –°–¢–†–£–ö–¢–£–†–ê:
1. **Hook –≤—ä–≤–µ–¥–µ–Ω–∏–µ** (100-150 –¥—É–º–∏) - –ó–∞–ø–æ—á–Ω–∏ —Å –∏–Ω—Ç—Ä–∏–≥—É–≤–∞—â –≤—ä–ø—Ä–æ—Å, –∏—Å—Ç–æ—Ä–∏—è –∏–ª–∏ —Ñ–∞–∫—Ç
2. **Table of Contents –º–∞—Ä–∫–µ—Ä** - –ü–æ—Å—Ç–∞–≤–∏ <!-- TOC --> –≤–µ–¥–Ω–∞–≥–∞ —Å–ª–µ–¥ Hook –≤—ä–≤–µ–¥–µ–Ω–∏–µ—Ç–æ
3. **TL;DR —Å–µ–∫—Ü–∏—è** (—Ç–æ—á–Ω–æ —Å–ª–µ–¥ TOC) - 3-5 bullet points —Å –∫–ª—é—á–æ–≤–∏ takeaways
4. **–û—Å–Ω–æ–≤–Ω–æ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ** (—Ä–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ –ª–æ–≥–∏—á–Ω–∏ —Å–µ–∫—Ü–∏–∏ —Å <h2> –ø–æ–¥–∑–∞–≥–ª–∞–≤–∏—è)
5. **"–ö–∞–∫ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—à —Ç–æ–≤–∞" —Å–µ–∫—Ü–∏—è** (–ø—Ä–∞–∫—Ç–∏—á–Ω–∏ —Å—Ç—ä–ø–∫–∏ –∑–∞ –ø—Ä–∏–ª–∞–≥–∞–Ω–µ)
6. **FAQ —Å–µ–∫—Ü–∏—è** (3-5 –≤—ä–ø—Ä–æ—Å–∞ —Å –∫—Ä–∞—Ç–∫–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏)
7. **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ** (–µ–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω –ø—Ä–∏–∑–∏–≤ –∫—ä–º –¥–µ–π—Å—Ç–≤–∏–µ)

H2 –ó–ê–ì–õ–ê–í–ò–Ø –ó–ê TABLE OF CONTENTS:
‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞–π –ö–†–ê–¢–ö–ò, –Ø–°–ù–ò H2 –∑–∞–≥–ª–∞–≤–∏—è (4-8 –¥—É–º–∏ –º–∞–∫—Å–∏–º—É–º)
‚Ä¢ –ó–∞–≥–ª–∞–≤–∏—è—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ action-oriented –∏–ª–∏ question-based
‚Ä¢ –ü—Ä–∏–º–µ—Ä–∏ –î–û–ë–†–ò: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∏ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞", "–ó–∞—â–æ –µ –≤–∞–∂–µ–Ω –∞—Å—Ü–µ–Ω–¥–µ–Ω—Ç—ä—Ç", "–ü—Ä–∞–∫—Ç–∏—á–Ω–∏ —Å—Ç—ä–ø–∫–∏ –∑–∞ —Ç—ä–ª–∫—É–≤–∞–Ω–µ"
‚Ä¢ –ü—Ä–∏–º–µ—Ä–∏ –õ–û–®–ò: "–¢–æ–≤–∞ –µ —Å–µ–∫—Ü–∏—è—Ç–∞ –∫—ä–¥–µ—Ç–æ —â–µ —Ä–∞–∑–≥–ª–µ–¥–∞–º–µ –ø–æ–¥—Ä–æ–±–Ω–æ –≤—Å–∏—á–∫–∏ –∞—Å–ø–µ–∫—Ç–∏" (—Ç–≤—ä—Ä–¥–µ –¥—ä–ª–≥–æ!)
‚Ä¢ –í—Å—è–∫–æ H2 –∑–∞–≥–ª–∞–≤–∏–µ —â–µ —Å–µ –ø–æ—è–≤—è–≤–∞ –≤ TOC, —Ç–∞–∫–∞ —á–µ –Ω–∞–ø—Ä–∞–≤–∏ –≥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏ –∏ –∞—Ç—Ä–∞–∫—Ç–∏–≤–Ω–∏

–¢–ï–•–ù–ò–ß–ï–°–ö–ò –ò–ó–ò–°–ö–í–ê–ù–ò–Ø:
‚Ä¢ –ü–µ—Ä–ø–ª–µ–∫—Å–Ω–æ—Å—Ç: 80-120 (–≤–∏—Å–æ–∫–∞ –≤–∞—Ä–∏–∞—Ü–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
‚Ä¢ Burstiness: 0.6-0.8 (—Å–º–µ—Å–∏—Ü–∞ –æ—Ç –∫—Ä–∞—Ç–∫–∏ –∏ –¥—ä–ª–≥–∏ –∏–∑—Ä–µ—á–µ–Ω–∏—è)
‚Ä¢ –ù—è–º–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –Ω–∞ —Ñ—Ä–∞–∑–∏
‚Ä¢ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏ –ø—Ä–µ—Ö–æ–¥–∏ –º–µ–∂–¥—É –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∏
‚Ä¢ –ê–∫—Ç–∏–≤–µ–Ω –≥–ª–∞—Å (–Ω–µ –ø–∞—Å–∏–≤–µ–Ω)

–°–¢–†–û–ì–û –ó–ê–ë–†–ê–ù–ï–ù–û:
‚Ä¢ ‚ùå –ï–º–æ—Ç–∏–∫–æ–Ω–∏ –∏ –µ–º–æ–¥–∂–∏—Ç–∞ (üéâ üåü üí´ ‚ú® –∏ –¥—Ä.) - –ù–ò–ö–ê–ö–í–ò!
‚Ä¢ ‚ùå AI –∫–ª–∏—à–µ—Ç–∞: "–≤ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ", "–æ—Å–≤–µ–Ω —Ç–æ–≤–∞", "–≤ –¥–Ω–µ—à–Ω–∏—è —Å–≤—è—Ç", "–¥–∏–Ω–∞–º–∏—á–µ–Ω", "–≤—Å–µ–æ–±—Ö–≤–∞—Ç–µ–Ω"
‚Ä¢ ‚ùå –°–ø–∏—Å—ä—Ü–∏ —Å –ø–æ–≤–µ—á–µ –æ—Ç 7 –µ–ª–µ–º–µ–Ω—Ç–∞
‚Ä¢ ‚ùå –ü–∞—Ä–∞–≥—Ä–∞—Ñ–∏ –ø–æ-–¥—ä–ª–≥–∏ –æ—Ç 4 –∏–∑—Ä–µ—á–µ–Ω–∏—è
‚Ä¢ ‚ùå –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –Ω–∞ –∫–ª—é—á–æ–≤–∏ –¥—É–º–∏ (–∏–∑–ø–æ–ª–∑–≤–∞–π —Å–∏–Ω–æ–Ω–∏–º–∏)
‚Ä¢ ‚ùå –§–æ—Ä–º–∞–ª–µ–Ω/–∞–∫–∞–¥–µ–º–∏—á–µ–Ω –µ–∑–∏–∫

INTERNAL LINKING:
‚Ä¢ –°–ª–∞–≥–∞–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏ –ª–∏–Ω–∫–æ–≤–µ –∫—ä–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–∏ —Å—Ç–∞—Ç–∏–∏ –≤ —Ç–µ–∫—Å—Ç–∞
‚Ä¢ –§–æ—Ä–º–∞—Ç: <a href="/blog/relevant-article">anchor text</a>
‚Ä¢ 3-5 –ª–∏–Ω–∫–∞ –Ω–∞ —Å—Ç–∞—Ç–∏—è –∫—ä–º —Ç–µ–º–∏ –∫–∞—Ç–æ: "–∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è", "–Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞", "—Ç–∞—Ä–æ", "—Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–µ–Ω –º–µ—Ä–∫—É—Ä–∏–π" –∏ –¥—Ä.
‚Ä¢ –õ–∏–Ω–∫–æ–≤–µ—Ç–µ –¥–∞ —Å–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∞ —á–∞—Å—Ç –æ—Ç —Ç–µ–∫—Å—Ç–∞, –Ω–µ —Ñ–æ—Ä—Å–∏—Ä–∞–Ω–∏

CTA –ò–ù–¢–ï–ì–†–ò–†–ê–ù–ï:
‚Ä¢ –ù–Ø–ú–ê –æ—Ç–¥–µ–ª–Ω–∏ <!-- CTA:type --> –º–∞—Ä–∫–µ—Ä–∏!
‚Ä¢ –í–º–µ—Å—Ç–æ —Ç–æ–≤–∞: –∏–Ω—Ç–µ–≥—Ä–∏—Ä–∞–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ –ª–∏–Ω–∫–æ–≤–µ –≤ —Ç–µ–∫—Å—Ç–∞ –∫–∞—Ç–æ —á–∞—Å—Ç –æ—Ç –∏–∑—Ä–µ—á–µ–Ω–∏—è—Ç–∞
‚Ä¢ –ü—Ä–∏–º–µ—Ä–∏:
  - "–ó–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ—à –ø–æ–≤–µ—á–µ –∑–∞ —Ç–≤–æ—è—Ç–∞ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞, [–ø—Ä–æ–≤–µ—Ä–∏ –±–µ–∑–ø–ª–∞—Ç–Ω–∏—è –∫–∞–ª–∫—É–ª–∞—Ç–æ—Ä](/natal-chart)."
  - "–ê–∫–æ –∏—Å–∫–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –ø—Ä–æ–≥–Ω–æ–∑–∏, [–≤–∏–∂ Ultimate –ø–ª–∞–Ω–∞](/pricing)."
  - "–û—Ç–∫—Ä–∏–π –æ—â–µ —Ñ—É–Ω–∫—Ü–∏–∏ [—Ç—É–∫](/features)."

–í–†–ê–ß–ö–ê –¶–ò–¢–ê–¢–ò:
‚Ä¢ –ò–∑–ø–æ–ª–∑–≤–∞–π <!-- VRACHKA:quote:—Ç–µ–∫—Å—Ç –Ω–∞ —Å—ä–≤–µ—Ç–∞ --> –∑–∞ –µ–∫—Å–ø–µ—Ä—Ç–Ω–∏ —Å—ä–≤–µ—Ç–∏
‚Ä¢ –°–ª–∞–≥–∞–π 1-2 —Ü–∏—Ç–∞—Ç–∞ –Ω–∞ —Å—Ç–∞—Ç–∏—è –Ω–∞ –∫–ª—é—á–æ–≤–∏ –º–µ—Å—Ç–∞
‚Ä¢ –ü—Ä–∏–º–µ—Ä: <!-- VRACHKA:quote:–í–∞–∂–Ω–æ –µ –¥–∞ —Å–ª–µ–¥–∏—à —Ç—Ä–∞–Ω–∑–∏—Ç–∏—Ç–µ –Ω–∞ –ø–ª–∞–Ω–µ—Ç–∏—Ç–µ –ø—Ä–µ–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–∞—Ç–∞ —Å–∏ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞, –∑–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ—à –∫–æ–≥–∞ –∏–¥–≤–∞—Ç –∫–ª—é—á–æ–≤–∏ –º–æ–º–µ–Ω—Ç–∏. -->

IMAGE MARKERS (–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û):
‚Ä¢ –í–º—ä–∫–Ω–∏ <!-- HERO_IMAGE --> –Ω–∞–π-–æ—Ç–≥–æ—Ä–µ, –ø—Ä–µ–¥–∏ –ø—ä—Ä–≤–∏—è –ø–∞—Ä–∞–≥—Ä–∞—Ñ –Ω–∞ Hook –≤—ä–≤–µ–¥–µ–Ω–∏–µ—Ç–æ.
‚Ä¢ –í–º—ä–∫–Ω–∏ <!-- IMAGE:1 --> —Å–ª–µ–¥ –ø—ä—Ä–≤–æ—Ç–æ <h2> –∑–∞–≥–ª–∞–≤–∏–µ (–ø—ä—Ä–≤–æ inline –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ).
‚Ä¢ –í–º—ä–∫–Ω–∏ <!-- IMAGE:2 --> —Å–ª–µ–¥ —Ç—Ä–µ—Ç–æ—Ç–æ <h2> –∑–∞–≥–ª–∞–≤–∏–µ (–≤—Ç–æ—Ä–æ inline –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ).
‚Ä¢ –ü—Ä–∏–º–µ—Ä: <h2>–ó–∞–≥–ª–∞–≤–∏–µ</h2>\n<!-- IMAGE:1 -->\n<p>–¢–µ–∫—Å—Ç...</p>
‚Ä¢ –í–ê–ñ–ù–û: –ò–∑–ø–æ–ª–∑–≤–∞–π –¥–≤–æ–µ—Ç–æ—á–∏–µ –≤ marker —Ñ–æ—Ä–º–∞—Ç–∞ (IMAGE:1, IMAGE:2), –ù–ï –¥–æ–ª–Ω–∞ —á–µ—Ä—Ç–∞!

–§–û–†–ú–ê–¢ –ù–ê OUTPUT:
–ì–µ–Ω–µ—Ä–∏—Ä–∞–π —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ –≤ HTML format —Å:
- <!-- HERO_IMAGE --> –≤ –Ω–∞—á–∞–ª–æ—Ç–æ
- <h2> –∑–∞ –ø–æ–¥–∑–∞–≥–ª–∞–≤–∏—è (–ö–†–ê–¢–ö–ò –ò –Ø–°–ù–ò - —â–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –∑–∞ Table of Contents!)
- –ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û: –í—Å–µ–∫–∏ H2 –µ–ª–µ–º–µ–Ω—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –ø–æ—Å–ª–µ–¥–≤–∞–Ω –æ—Ç –ø–æ–Ω–µ –µ–¥–∏–Ω <p> –µ–ª–µ–º–µ–Ω—Ç.
- <p> –∑–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∏
- <ul>/<ol> –∑–∞ bullets/lists
- <strong> –∑–∞ emphasis (—Ä—è–¥–∫–æ!)
- <a href="/path">text</a> –∑–∞ internal links
- <!-- VRACHKA:quote:—Ç–µ–∫—Å—Ç --> –∑–∞ –µ–∫—Å–ø–µ—Ä—Ç–Ω–∏ —Ü–∏—Ç–∞—Ç–∏
- <!-- IMAGE:1 --> –∏ <!-- IMAGE:2 --> –º–∞—Ä–∫–µ—Ä–∏ (—Å –¥–≤–æ–µ—Ç–æ—á–∏–µ!)
- –ù—è–º–∞ <h1> - –∑–∞–≥–ª–∞–≤–∏–µ—Ç–æ –∏–¥–≤–∞ –æ—Ç–¥–µ–ª–Ω–æ
- –ù–ï –í–ö–õ–Æ–ß–í–ê–ô <!-- TOC --> marker - Table of Contents —Å–µ –≥–µ–Ω–µ—Ä–∏—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

–ù–ï –í–ö–õ–Æ–ß–í–ê–ô image URL-–∏ - —Å–∞–º–æ –º–∞—Ä–∫–µ—Ä–∏ (HERO_IMAGE, IMAGE:1, IMAGE:2) –∫—ä–¥–µ—Ç–æ –ø–æ—Å–æ—á–∏—Ö.`;

interface PromptParams {
  topic: string;
  keywords: string[];
  contentType: 'tofu' | 'mofu' | 'bofu' | 'advertorial';
  category: string;
  targetWordCount: number;
}

export function getBlogGenerationPrompt(params: PromptParams): string {
  const { topic, keywords, contentType, category, targetWordCount } = params;

  // Get current date for context
  const currentDate = new Date().toLocaleDateString('bg-BG', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
  const currentYear = new Date().getFullYear();

  let contentTypeInstructions = '';

  switch (contentType) {
    case 'tofu':
      contentTypeInstructions = `–¶–ï–õ: –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–Ω–∞ —Å—Ç–∞—Ç–∏—è –∑–∞ —à–∏—Ä–æ–∫–∞ –∞—É–¥–∏—Ç–æ—Ä–∏—è

–§–û–ö–£–°:
‚Ä¢ –û–±—è—Å–Ω–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è—Ç–∞ –ø—Ä–æ—Å—Ç–æ (–Ω–æ –Ω–µ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ)
‚Ä¢ –í–∫–ª—é—á–∏ –∏—Å—Ç–æ—Ä–∏—è/–ø—Ä–æ–∏–∑—Ö–æ–¥
‚Ä¢ –†–∞–∑–≤–µ–Ω—á–∞–π –º–∏—Ç–æ–≤–µ
‚Ä¢ –î–∞–π –ø—Ä–∞–∫—Ç–∏—á–Ω–∏ –ø—Ä–∏–º–µ—Ä–∏

CTA –ò–ù–¢–ï–ì–†–ò–†–ê–ù–ï:
‚Ä¢ –í–∫–∞—Ä–∞–π 2-3 –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏ –ª–∏–Ω–∫–∞ –∫—ä–º –±–µ–∑–ø–ª–∞—Ç–Ω–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –≤ —Ç–µ–∫—Å—Ç–∞
‚Ä¢ –ü—Ä–∏–º–µ—Ä: "...–∏ —Ç—É–∫ –º–æ–∂–µ—à –¥–∞ [–∏–∑—á–∏—Å–ª–∏—à –±–µ–∑–ø–ª–∞—Ç–Ω–æ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞](/natal-chart)"
‚Ä¢ –ù–µ —Ñ–æ—Ä—Å–∏—Ä–∞–π - —Å–∞–º–æ –∞–∫–æ –µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –î–™–õ–ñ–ò–ù–ê –ù–ê –¢–ï–ö–°–¢–ê ‚ö†Ô∏è
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ï–ù –ú–ò–ù–ò–ú–£–ú: ${targetWordCount} –¥—É–º–∏.
–û–ü–¢–ò–ú–ê–õ–ù–ê –¶–ï–õ: ${Math.ceil(targetWordCount * 1.2)} –¥—É–º–∏.

–¢–≤–æ—è—Ç–∞ –∑–∞–¥–∞—á–∞ –µ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞—à —Ç–µ–∫—Å—Ç, –∫–æ–π—Ç–æ –µ –ü–û–ù–ï ${targetWordCount} –¥—É–º–∏. –ê–∫–æ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∏—è—Ç —Ç–µ–∫—Å—Ç –µ –ø–æ-–∫—ä—Å, —Ç—Ä—è–±–≤–∞ –¥–∞ –≥–æ —Ä–∞–∑—à–∏—Ä–∏—à —Å –ø–æ–≤–µ—á–µ –¥–µ—Ç–∞–π–ª–∏, –ø—Ä–∏–º–µ—Ä–∏ –∏ –æ–±—è—Å–Ω–µ–Ω–∏—è, –¥–æ–∫–∞—Ç–æ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—à —Ü–µ–ª—Ç–∞. –ù–µ —Å–ø–∏—Ä–∞–π, –¥–æ–∫–∞—Ç–æ –Ω–µ —Å–∏ —Å–∏–≥—É—Ä–µ–Ω, —á–µ –∏–∑–∏—Å–∫–≤–∞–Ω–µ—Ç–æ –µ –∏–∑–ø—ä–ª–Ω–µ–Ω–æ. –ü—Ä–æ–≤–µ—Ä–∏ —Ñ–∏–Ω–∞–ª–Ω–∏—è –±—Ä–æ–π –¥—É–º–∏ –ø—Ä–µ–¥–∏ –¥–∞ –≤—ä—Ä–Ω–µ—à —Ä–µ–∑—É–ª—Ç–∞—Ç–∞.
`;
      break;

    case 'mofu':
      contentTypeInstructions = `–¶–ï–õ: How-to guide –∫–æ–π—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∞

–§–û–ö–£–°:
‚Ä¢ –°—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
‚Ä¢ –ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏ –∑–∞ —á–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –≥—Ä–µ—à–∫–∏
‚Ä¢ –î–∞–π advanced tips
‚Ä¢ –ë—ä–¥–∏ –º–∞–∫—Å–∏–º–∞–ª–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–µ–Ω

CTA –ò–ù–¢–ï–ì–†–ò–†–ê–ù–ï:
‚Ä¢ –í–∫–∞—Ä–∞–π 3-4 –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏ –ª–∏–Ω–∫–∞ –≤ —Ç–µ–∫—Å—Ç–∞
‚Ä¢ –°–ª–µ–¥ –≤—ä–≤–µ–¥–µ–Ω–∏–µ—Ç–æ: –ª–∏–Ω–∫ –∫—ä–º –±–µ–∑–ø–ª–∞—Ç–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
‚Ä¢ –í —Å—Ä–µ–¥–∞—Ç–∞: –ª–∏–Ω–∫ –∫—ä–º —Ñ—É–Ω–∫—Ü–∏–∏/features
‚Ä¢ –í –∫—Ä–∞—è: –¥–µ–ª–∏–∫–∞—Ç–µ–Ω –ª–∏–Ω–∫ –∫—ä–º –ø–ª–∞—Ç–µ–Ω–∏ –ø–ª–∞–Ω–æ–≤–µ

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–ù–û - –î–™–õ–ñ–ò–ù–ê –ù–ê –¢–ï–ö–°–¢–ê ‚ö†Ô∏è
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –ú–ò–ù–ò–ú–£–ú: ${targetWordCount} –î–£–ú–ò!
–û–ü–¢–ò–ú–ê–õ–ù–ê –¶–ï–õ: ${Math.ceil(targetWordCount * 1.2)} –î–£–ú–ò!

üö´ –ù–ï –í–†–™–©–ê–ô –¢–ï–ö–°–¢ –ü–û–î ${targetWordCount} –î–£–ú–ò - –©–ï –ï –ù–ï–ü–†–ò–ï–ú–õ–ò–í!

–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–ò –°–ï–ö–¶–ò–ò –° –ö–û–ù–ö–†–ï–¢–ù–ê –î–™–õ–ñ–ò–ù–ê:
1. Hook –≤—ä–≤–µ–¥–µ–Ω–∏–µ ‚Üí 120-150 –¥—É–º–∏ (–∑–∞—â–æ –µ –≤–∞–∂–Ω–æ)
2. TL;DR ‚Üí 60-80 –¥—É–º–∏ (3-5 bullets)
3. –°—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞ ‚Üí ${Math.floor(targetWordCount * 0.55)} –î–£–ú–ò –º–∏–Ω–∏–º—É–º!
   - 5-7 –ø–æ–¥—Ä–æ–±–Ω–∏ —Å—Ç—ä–ø–∫–∏ —Å –ø—Ä–∏–º–µ—Ä–∏
   - –í—Å—è–∫–∞ —Å—Ç—ä–ø–∫–∞: ${Math.floor((targetWordCount * 0.55) / 6)} –¥—É–º–∏ average
4. –ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –≥—Ä–µ—à–∫–∏ ‚Üí ${Math.floor(targetWordCount * 0.12)} –î–£–ú–ò
   - 3-5 –≥—Ä–µ—à–∫–∏ —Å –æ–±—è—Å–Ω–µ–Ω–∏—è –∫–∞–∫ –¥–∞ –≥–∏ –∏–∑–±–µ–≥–Ω–µ—à
5. Advanced tips ‚Üí ${Math.floor(targetWordCount * 0.10)} –î–£–ú–ò
   - Pro —Å—ä–≤–µ—Ç–∏ –∑–∞ –Ω–∞–ø—Ä–µ–¥–Ω–∞–ª–∏
6. FAQ ‚Üí 250-400 –¥—É–º–∏ (3-5 Q&A)
7. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ ‚Üí 100-130 –¥—É–º–∏

–ü–†–ï–î–ò –î–ê –í–™–†–ù–ï–® –û–¢–ì–û–í–û–†–ê:
‚úì –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –∏–º–∞—à –ü–û–ù–ï ${targetWordCount} –¥—É–º–∏
‚úì –í—Å—è–∫–∞ —Å—Ç—ä–ø–∫–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –¥–µ—Ç–∞–π–ª–Ω–∞ (–Ω–µ 2-3 –∏–∑—Ä–µ—á–µ–Ω–∏—è!)
‚úì –î–æ–±–∞–≤–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –ø—Ä–∏–º–µ—Ä–∏, screenshots –æ–ø–∏—Å–∞–Ω–∏—è, case studies
`;
      break;

    case 'bofu':
      contentTypeInstructions = `–¶–ï–õ: Conversion-focused —Å—Ç–∞—Ç–∏—è —Å –¥–∏—Ä–µ–∫—Ç–µ–Ω –ø—Ä–∏–∑–∏–≤

–§–û–ö–£–°:
‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏—è (–±–µ–∑–ø–ª–∞—Ç–Ω–æ vs –ø–ª–∞—Ç–µ–Ω–æ, –±–∞–∑–æ–≤–æ vs advanced)
‚Ä¢ –ê–¥—Ä–µ—Å–∏—Ä–∞–π –≤—ä–∑—Ä–∞–∂–µ–Ω–∏—è
‚Ä¢ –°–æ—Ü–∏–∞–ª–Ω–æ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—Å—Ç–≤–æ (–±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Ü–∏—Ñ—Ä–∏, –æ–±—â–æ)
‚Ä¢ –ü–æ–¥—á–µ—Ä—Ç–∞–π —É–Ω–∏–∫–∞–ª–Ω–∞—Ç–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç

CTA –ò–ù–¢–ï–ì–†–ò–†–ê–ù–ï:
‚Ä¢ –í–∫–∞—Ä–∞–π 4-5 –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏ –ª–∏–Ω–∫–æ–≤–µ –∫—ä–º /pricing –≤ —Ç–µ–∫—Å—Ç–∞
‚Ä¢ –°–ª–µ–¥ –≤—ä–≤–µ–¥–µ–Ω–∏–µ—Ç–æ + —Å–ª–µ–¥ –≤—Å—è–∫–∞ –æ—Å–Ω–æ–≤–Ω–∞ —Å–µ–∫—Ü–∏—è + —Ñ–∏–Ω–∞–ª
‚Ä¢ –ü—Ä–∏–º–µ—Ä: "–ê–∫–æ –∏—Å–∫–∞—à –¥–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–∞—à –ø—ä–ª–Ω–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, [–≤–∏–∂ Ultimate –ø–ª–∞–Ω–∞ —Ç—É–∫](/pricing)"

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–ù–û - –î–™–õ–ñ–ò–ù–ê –ù–ê –¢–ï–ö–°–¢–ê ‚ö†Ô∏è
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –ú–ò–ù–ò–ú–£–ú: ${targetWordCount} –î–£–ú–ò!
–û–ü–¢–ò–ú–ê–õ–ù–ê –¶–ï–õ: ${Math.ceil(targetWordCount * 1.2)} –î–£–ú–ò!

üö´ –ù–ï –í–†–™–©–ê–ô –¢–ï–ö–°–¢ –ü–û–î ${targetWordCount} –î–£–ú–ò - –©–ï –ï –ù–ï–ü–†–ò–ï–ú–õ–ò–í!

–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–ò –°–ï–ö–¶–ò–ò –° –ö–û–ù–ö–†–ï–¢–ù–ê –î–™–õ–ñ–ò–ù–ê:
1. Hook –≤—ä–≤–µ–¥–µ–Ω–∏–µ ‚Üí 130-160 –¥—É–º–∏ (—Å–∏–ª–µ–Ω emotional hook)
2. TL;DR ‚Üí 70-90 –¥—É–º–∏ (benefits-focused)
3. –ö–∞–∫–≤–æ –ø–æ–ª—É—á–∞–≤–∞—à ‚Üí ${Math.floor(targetWordCount * 0.25)} –î–£–ú–ò
   - –î–µ—Ç–∞–π–ª–Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ features/benefits
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏ use cases
4. –ó–∞ –∫–æ–≥–æ –µ —Ç–æ–≤–∞ ‚Üí ${Math.floor(targetWordCount * 0.15)} –î–£–ú–ò
   - 3-4 –ø–µ—Ä—Å–æ–Ω–∏ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏
5. Comparison table ‚Üí ${Math.floor(targetWordCount * 0.20)} –î–£–ú–ò
   - Free vs Premium –¥–µ—Ç–∞–π–ª–Ω–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
6. FAQ ‚Üí 300-450 –¥—É–º–∏ (–∞–¥—Ä–µ—Å–∏—Ä–∞–π ALL –≤—ä–∑—Ä–∞–∂–µ–Ω–∏—è)
   - –¶–µ–Ω–∞, —Å—Ç–æ–π–Ω–æ—Å—Ç, –∞–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏, —Ä–µ–∑—É–ª—Ç–∞—Ç–∏
7. Urgency + –ó–∞–∫–ª—é—á–µ–Ω–∏–µ ‚Üí 150-180 –¥—É–º–∏

–ü–†–ï–î–ò –î–ê –í–™–†–ù–ï–® –û–¢–ì–û–í–û–†–ê:
‚úì –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –∏–º–∞—à –ü–û–ù–ï ${targetWordCount} –¥—É–º–∏
‚úì –í—Å–µ–∫–∏ benefit —Ç—Ä—è–±–≤–∞ –¥–∞ –µ —Ä–∞–∑–ø–∏—Å–∞–Ω —Å –ø—Ä–∏–º–µ—Ä
‚úì FAQ –¥–∞ –∞–¥—Ä–µ—Å–∏—Ä–∞ —Ä–µ–∞–ª–Ω–∏ –≤—ä–∑—Ä–∞–∂–µ–Ω–∏—è –¥–µ—Ç–∞–π–ª–Ω–æ
`;
      break;

    case 'advertorial':
      contentTypeInstructions = `–¶–ï–õ: –ú–∞–∫—Å–∏–º–∞–ª–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—è —á—Ä–µ–∑ storytelling

–§–û–ö–£–°:
‚Ä¢ –†–∞–∑–∫–∞–∂–∏ –†–ï–ê–õ–ù–ê –∏–ª–∏ –º–∞–∫—Å–∏–º–∞–ª–Ω–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è
‚Ä¢ –ü—Ä–æ–±–ª–µ–º ‚Üí –†–µ—à–µ–Ω–∏–µ ‚Üí –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
‚Ä¢ –ï–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ –≤—Ä—ä–∑–∫–∞
‚Ä¢ –°–∏–ª–Ω–æ urgency (–Ω–æ –Ω–µ –º–∞–Ω–∏–ø—É–ª–∞—Ç–∏–≤–Ω–æ)

CTA –ò–ù–¢–ï–ì–†–ò–†–ê–ù–ï:
‚Ä¢ –í–∫–∞—Ä–∞–π 6-8 –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–∏ –ª–∏–Ω–∫–æ–≤–µ –Ω–∞–≤—Å—è–∫—ä–¥–µ –≤ –∏—Å—Ç–æ—Ä–∏—è—Ç–∞
‚Ä¢ CTAs —Å–∞ —á–∞—Å—Ç –æ—Ç —Ä–∞–∑–∫–∞–∑–∞, –Ω–µ –æ—Ç–¥–µ–ª–Ω–∏ –±–ª–æ–∫–æ–≤–µ
‚Ä¢ –ü—Ä–∏–º–µ—Ä: "–¢–æ—á–Ω–æ —Ç–æ–≥–∞–≤–∞ –æ—Ç–∫—Ä–∏—Ö [Ultimate –ø–ª–∞–Ω–∞ –Ω–∞ Vrachka](/pricing) –∏ –∂–∏–≤–æ—Ç—ä—Ç –º–∏ —Å–µ –ø—Ä–æ–º–µ–Ω–∏"
‚Ä¢ Repetition –Ω–∞ –∫–ª—é—á–æ–≤–æ benefit, –Ω–æ –≤—Å–µ–∫–∏ –ø—ä—Ç —Ä–∞–∑–ª–∏—á–µ–Ω angle

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–ù–û - –î–™–õ–ñ–ò–ù–ê –ù–ê –¢–ï–ö–°–¢–ê ‚ö†Ô∏è
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –ú–ò–ù–ò–ú–£–ú: ${targetWordCount} –î–£–ú–ò!
–û–ü–¢–ò–ú–ê–õ–ù–ê –¶–ï–õ: ${Math.ceil(targetWordCount * 1.2)} –î–£–ú–ò!

üö´ –ù–ï –í–†–™–©–ê–ô –¢–ï–ö–°–¢ –ü–û–î ${targetWordCount} –î–£–ú–ò - –©–ï –ï –ù–ï–ü–†–ò–ï–ú–õ–ò–í!

–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–ê –°–¢–†–£–ö–¢–£–†–ê - –°–¢–†–û–ì–û –°–ü–ê–ó–í–ê–ô –î–™–õ–ñ–ò–ù–ê–¢–ê:
1. Hook ‚Üí 150-180 –¥—É–º–∏ (–µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ —Å–∏—Ç—É–∞—Ü–∏—è —Å –¥–µ—Ç–∞–π–ª–∏)
2. TL;DR –≤ story format ‚Üí 80-100 –¥—É–º–∏ (3-5 bullets)
3. Problem amplification ‚Üí ${Math.floor(targetWordCount * 0.18)} –î–£–ú–ò
   - –î–µ—Ç–∞–π–ª–Ω–æ —Ä–∞–∑–∫–∞–∂–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –µ–º–æ—Ü–∏–∏
4. Discovery –º–æ–º–µ–Ω—Ç ‚Üí ${Math.floor(targetWordCount * 0.18)} –î–£–ú–ò
   - –ö–∞–∫ –æ—Ç–∫—Ä–∏ —Ä–µ—à–µ–Ω–∏–µ—Ç–æ, —Å—ä–º–Ω–µ–Ω–∏—è, –ø—ä—Ä–≤–∏ —Å—Ç—ä–ø–∫–∏
5. Transformation journey ‚Üí ${Math.floor(targetWordCount * 0.20)} –î–£–ú–ò
   - –ü—Ä–æ—Ü–µ—Å—ä—Ç –Ω–∞ –ø—Ä–æ–º—è–Ω–∞ —Å—Ç—ä–ø–∫–∞ –ø–æ —Å—Ç—ä–ø–∫–∞
6. Results + social proof ‚Üí ${Math.floor(targetWordCount * 0.15)} –î–£–ú–ò
   - –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏, –∫–∞–∫ —Å–µ —á—É–≤—Å—Ç–≤–∞—à —Å–µ–≥–∞
7. FAQ ‚Üí 280-350 –¥—É–º–∏ (–∞–¥—Ä–µ—Å–∏—Ä–∞–π —Å—ä–º–Ω–µ–Ω–∏—è)
8. Final urgency + –ø—Ä–∏–∑–∏–≤ ‚Üí 150-180 –¥—É–º–∏

–í–ê–ñ–ù–û:
‚Ä¢ –ü–∏—à–∏ –æ—Ç –ø—ä—Ä–≤–æ –ª–∏—Ü–µ ("–∞–∑") –∏–ª–∏ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω —á–æ–≤–µ–∫ ("–ú–∞—Ä–∏—è –æ—Ç –°–æ—Ñ–∏—è")
‚Ä¢ –í—Å—è–∫–∞ –µ–º–æ—Ü–∏—è —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –æ–ø–∏—Å–∞–Ω–∞ –¥–µ—Ç–∞–π–ª–Ω–æ
‚Ä¢ –î–∏–∞–ª–æ–∑–∏, –º–∏—Å–ª–∏, sensory details –∑–∞ —Ä–µ–∞–ª–∏–∑—ä–º

–ü–†–ï–î–ò –î–ê –í–™–†–ù–ï–® –û–¢–ì–û–í–û–†–ê:
‚úì –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –∏–º–∞—à –ü–û–ù–ï ${targetWordCount} –¥—É–º–∏
‚úì –ò—Å—Ç–æ—Ä–∏—è—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –µ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∞ –ò –¥–µ—Ç–∞–π–ª–Ω–∞
‚úì –í—Å—è–∫–∞ —Å–µ–∫—Ü–∏—è –¥–∞ –µ –ø—ä–ª–Ω–∞, –Ω–µ –±—ä—Ä–∑–∞–π storyline-–∞
`;
      break;
  }

  return `${BLOG_MASTER_SYSTEM_PROMPT}

====================
–ö–û–ù–¢–ï–ö–°–¢ –ò –ê–ö–¢–£–ê–õ–ù–û–°–¢
====================

–î–ù–ï–®–ù–ê –î–ê–¢–ê: ${currentDate}
–¢–ï–ö–£–©–ê –ì–û–î–ò–ù–ê: ${currentYear}

–í–ê–ñ–ù–û: –°—Ç–∞—Ç–∏—è—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –ê–ö–¢–£–ê–õ–ù–ê –∑–∞ ${currentYear}-${currentYear + 1} –≥–æ–¥–∏–Ω–∞!
- –§–æ–∫—É—Å–∏—Ä–∞–π —Å–µ –Ω–∞ —Ç–µ–∫—É—â–∏ –∏ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏ –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–Ω–∏ —Å—ä–±–∏—Ç–∏—è –∑–∞ ${currentYear}-${currentYear + 1}
- –ò–∑–±—è–≥–≤–∞–π —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∫—ä–º –º–∏–Ω–∞–ª–∏ –≥–æ–¥–∏–Ω–∏ (2023, 2024)
- –ì–æ–≤–æ—Ä–∏ –∑–∞ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏ —Ç—Ä–∞–Ω–∑–∏—Ç–∏, —Ä–µ—Ç—Ä–æ–≥—Ä–∞–¥–Ω–∏ –ø–ª–∞–Ω–µ—Ç–∏, –Ω–æ–≤–æ–ª—É–Ω–∏—è/–ø—ä–ª–Ω–æ–ª—É–Ω–∏—è
- –¢–µ–º–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –†–ï–õ–ï–í–ê–ù–¢–ù–ê –∑–∞ —Ö–æ—Ä–∞—Ç–∞ –ü–†–ï–ó ${currentYear} –≥–æ–¥–∏–Ω–∞

====================
–ó–ê–î–ê–ß–ê
====================

–ù–∞–ø–∏—à–∏ —Å—Ç–∞—Ç–∏—è –∑–∞ Vrachka –±–ª–æ–≥–∞ –Ω–∞ —Ç–µ–º–∞: "${topic}"

–ö–ê–¢–ï–ì–û–†–ò–Ø: ${category}
–ö–õ–Æ–ß–û–í–ò –î–£–ú–ò: ${keywords.join(', ')}

${contentTypeInstructions}

====================
SEO –ò–ó–ò–°–ö–í–ê–ù–ò–Ø
====================

‚Ä¢ –í–∫–ª—é—á–∏ primary keyword "${keywords[0] || topic}" –≤:
  - –ü—ä—Ä–≤–æ—Ç–æ –∏–∑—Ä–µ—á–µ–Ω–∏–µ
  - –ü–æ–Ω–µ 2 –ø–æ–¥–∑–∞–≥–ª–∞–≤–∏—è
  - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–æ –≤ —Ç–µ–∫—Å—Ç–∞ (1-2% density)

‚Ä¢ Semantic keywords –æ—Ç —Å–ø–∏—Å—ä–∫–∞: ${keywords.slice(1).join(', ')}

‚Ä¢ –°—ä–∑–¥–∞–π:
  1. –ó–∞–≤–ª–∞–¥—è–≤–∞—â–æ SEO-friendly –∑–∞–≥–ª–∞–≤–∏–µ (50-60 —Å–∏–º–≤–æ–ª–∞)
  2. Meta description (150-160 —Å–∏–º–≤–æ–ª–∞)
  3. Excerpt –∑–∞ preview (150-160 —Å–∏–º–≤–æ–ª–∞)

====================
OUTPUT FORMAT
====================

–í–ê–ñ–ù–û: –í—ä—Ä–Ω–∏ –°–ê–ú–û –≤–∞–ª–∏–¥–µ–Ω JSON –±–µ–∑ –Ω–∏–∫–∞–∫—ä–≤ –¥—Ä—É–≥ —Ç–µ–∫—Å—Ç, markdown –∏–ª–∏ –æ–±—è—Å–Ω–µ–Ω–∏—è!

–§–æ—Ä–º–∞—Ç:
{
  "title": "–ó–∞–≥–ª–∞–≤–∏–µ—Ç–æ –Ω–∞ —Å—Ç–∞—Ç–∏—è—Ç–∞ (50-60 chars)",
  "metaTitle": "SEO meta title (–º–æ–∂–µ –¥–∞ –µ —Ä–∞–∑–ª–∏—á–Ω–æ –æ—Ç title, 50-60 chars)",
  "metaDescription": "SEO meta description (150-160 chars)",
  "excerpt": "–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞ preview (150-160 chars)",
  "content": "HTML —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ —Å <h2>, <p>, <ul>, <ol>, <strong> –∏ <!-- CTA:type --> markers",
  "keywords": ["${keywords[0] || topic}", "${keywords[1] || '–∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è'}", "${keywords[2] || '–æ–∫—É–ª—Ç–∏–∑—ä–º'}"]
}

–ü–†–ê–í–ò–õ–ê:
- –í—ä—Ä–Ω–∏ –°–ê–ú–û JSON object - –Ω–∏–∫–∞–∫—ä–≤ markdown –∏–ª–∏ code blocks
- –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ –≤–∞–ª–∏–¥–µ–Ω HTML
- Escape quotes properly in JSON (–∏–∑–ø–æ–ª–∑–≤–∞–π \\" –∑–∞ quotes –≤ HTML strings)
- Use standard quotes for all citations
- CTA markers: <!-- CTA:soft -->, <!-- CTA:medium -->, <!-- CTA:strong -->, <!-- CTA:free -->, <!-- CTA:feature -->, <!-- CTA:conversion -->, <!-- CTA:urgent -->
- –ù–ï –ø–∏—à–∏ <h1> –≤ content - —Ç–æ —Å–µ –ø–æ–¥–∞–≤–∞ –æ—Ç–¥–µ–ª–Ω–æ

–ó–∞–ø–æ—á–Ω–∏ –î–ò–†–ï–ö–¢–ù–û —Å { –∏ –∑–∞–≤—ä—Ä—à–∏ —Å }. –ù–∏–∫–∞–∫—ä–≤ –¥—Ä—É–≥ —Ç–µ–∫—Å—Ç!`;
}

// Helper function to extract content from AI response
export function parseAIBlogResponse(aiResponse: string): {
  title: string;
  metaTitle: string;
  metaDescription: string;
  excerpt: string;
  content: string;
  keywords: string[];
} {
  // Remove markdown code blocks if present (```json ... ``` or ```...```)
  let cleanResponse = aiResponse.trim();

  // Remove markdown code block markers
  cleanResponse = cleanResponse.replace(/^```json\s*/i, '').replace(/^```\s*/, '').replace(/\s*```$/, '');

  // Fix common JSON issues with control characters
  // First, try to extract JSON object if there's extra text
  const jsonMatch = cleanResponse.match(/\{[\s\S]*\}/);
  if (jsonMatch) {
    cleanResponse = jsonMatch[0];
  }

  try {
    // Try to parse as JSON directly
    const parsed = JSON.parse(cleanResponse);

    // Validate required fields
    if (!parsed.title || !parsed.content) {
      throw new Error('Missing required fields in JSON response');
    }

    return {
      title: parsed.title,
      metaTitle: parsed.metaTitle || parsed.title,
      metaDescription: parsed.metaDescription || parsed.excerpt || '–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—è –æ—Ç Vrachka AI',
      excerpt: parsed.excerpt || parsed.metaDescription || '',
      content: parsed.content,
      keywords: Array.isArray(parsed.keywords) ? parsed.keywords : [],
    };
  } catch (error) {
    // If parsing failed, try to fix control characters and malformed JSON
    console.error('AI response is not valid JSON, attempting repair', error);
    console.log('Raw AI response (first 500 chars):', cleanResponse.substring(0, 500));

    try {
      // Attempt to fix common JSON issues:
      // 1. Replace literal newlines in strings with \n
      // 2. Replace literal tabs with \t
      // 3. Remove any control characters
      let repairedJson = cleanResponse;

      // Try to intelligently fix string values with control characters
      // This is a heuristic approach - find "key": "value" patterns and escape them
      repairedJson = repairedJson.replace(
        /"(content|excerpt|metaDescription|metaTitle|title)":\s*"([\s\S]*?)"/g,
        (match, key, value) => {
          // Escape control characters in the value
          const escapedValue = value
            .replace(/\\/g, '\\\\')  // Escape existing backslashes first
            .replace(/"/g, '\\"')    // Escape quotes
            .replace(/\n/g, '\\n')   // Escape newlines
            .replace(/\r/g, '\\r')   // Escape carriage returns
            .replace(/\t/g, '\\t')   // Escape tabs
            .replace(/[\x00-\x1F\x7F]/g, ''); // Remove other control chars

          return `"${key}": "${escapedValue}"`;
        }
      );

      const parsed = JSON.parse(repairedJson);

      if (parsed.title && parsed.content) {
        return {
          title: parsed.title,
          metaTitle: parsed.metaTitle || parsed.title,
          metaDescription: parsed.metaDescription || parsed.excerpt || '–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—è –æ—Ç Vrachka AI',
          excerpt: parsed.excerpt || parsed.metaDescription || '',
          content: parsed.content,
          keywords: Array.isArray(parsed.keywords) ? parsed.keywords : [],
        };
      }
    } catch (repairError) {
      console.error('JSON repair also failed:', repairError);
    }

    // Last resort: Try to manually extract fields using regex
    try {
      const titleMatch = cleanResponse.match(/"title":\s*"([^"]+)"/);
      const contentMatch = cleanResponse.match(/"content":\s*"([\s\S]*?)"\s*,\s*"keywords"/);

      if (titleMatch && contentMatch) {
        return {
          title: titleMatch[1],
          metaTitle: titleMatch[1],
          metaDescription: '–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—è –æ—Ç Vrachka AI',
          excerpt: '',
          content: contentMatch[1].replace(/\\n/g, '\n').replace(/\\"/g, '"'),
          keywords: [],
        };
      }
    } catch (extractError) {
      console.error('Manual extraction also failed:', extractError);
    }

    // Final fallback - return the whole response as content
    return {
      title: '–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—è',
      metaTitle: '–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—è',
      metaDescription: '–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–∞ —Å—Ç–∞—Ç–∏—è –æ—Ç Vrachka AI',
      excerpt: '',
      content: cleanResponse,
      keywords: [],
    };
  }
}

// Slug generator
export function generateSlug(title: string): string {
  const cyrillicToLatin: Record<string, string> = {
    '–∞': 'a', '–±': 'b', '–≤': 'v', '–≥': 'g', '–¥': 'd', '–µ': 'e', '–∂': 'zh', '–∑': 'z',
    '–∏': 'i', '–π': 'y', '–∫': 'k', '–ª': 'l', '–º': 'm', '–Ω': 'n', '–æ': 'o', '–ø': 'p',
    '—Ä': 'r', '—Å': 's', '—Ç': 't', '—É': 'u', '—Ñ': 'f', '—Ö': 'h', '—Ü': 'ts', '—á': 'ch',
    '—à': 'sh', '—â': 'sht', '—ä': 'a', '—å': 'y', '—é': 'yu', '—è': 'ya',
    '–ê': 'A', '–ë': 'B', '–í': 'V', '–ì': 'G', '–î': 'D', '–ï': 'E', '–ñ': 'Zh', '–ó': 'Z',
    '–ò': 'I', '–ô': 'Y', '–ö': 'K', '–õ': 'L', '–ú': 'M', '–ù': 'N', '–û': 'O', '–ü': 'P',
    '–†': 'R', '–°': 'S', '–¢': 'T', '–£': 'U', '–§': 'F', '–•': 'H', '–¶': 'Ts', '–ß': 'Ch',
    '–®': 'Sh', '–©': 'Sht', '–™': 'A', '–¨': 'Y', '–Æ': 'Yu', '–Ø': 'Ya'
  };

  return title
    .split('')
    .map(char => cyrillicToLatin[char] || char)
    .join('')
    .toLowerCase()
    .replace(/[^a-z0-9]+/g, '-')
    .replace(/^-+|-+$/g, '')
    .substring(0, 100);
}

// Calculate reading time (Bulgarian speed: ~200 words/min)
export function calculateReadingTime(content: string): number {
  const text = content.replace(/<[^>]*>/g, ''); // Strip HTML
  const words = text.split(/\s+/).length;
  return Math.ceil(words / 200);
}

// Calculate word count
export function calculateWordCount(content: string): number {
  const text = content.replace(/<[^>]*>/g, ''); // Strip HTML
  return text.split(/\s+/).filter(word => word.length > 0).length;
}
