# Vrachka - –¢–≤–æ—è—Ç –î—É—Ö–æ–≤–µ–Ω –ì–∏–¥

Modern PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ —Ö–æ—Ä–æ—Å–∫–æ–ø–∏, —Ç–∞—Ä–æ —á–µ—Ç–µ–Ω–∏—è, –Ω–∞—Ç–∞–ª–Ω–∏ –∫–∞—Ä—Ç–∏ –∏ AI –æ—Ä–∞–∫—É–ª.

## üìä Quick Stats

- ‚úÖ **16 Core Features** Fully Functional (13 core + 3 flagship ULTIMATE)
- üîß **5 Features** Partially Implemented
- üìä **25+ Database Tables** with comprehensive RLS
- ü§ñ **Hybrid AI Strategy** (Gemini Flash FREE, Claude Sonnet ULTIMATE)
- üí≥ **3 Subscription Tiers** (FREE, BASIC 9.99 –ª–≤, ULTIMATE 19.99 –ª–≤)
- üåü **78 Tarot Cards** (Major + Minor Arcana)
- üîê **40+ API Endpoints** Protected with rate limiting
- üéØ **Status:** MVP Ready for Production + Growth Phase

## Status: ‚úÖ Production Ready + Growth Phase

### Core Features - Fully Functional

#### üéØ 13 Core Features:
- **AI Horoscopes** - –î–Ω–µ–≤–Ω–∏/–°–µ–¥–º–∏—á–Ω–∏/–ú–µ—Å–µ—á–Ω–∏ —Ö–æ—Ä–æ—Å–∫–æ–ø–∏ —Å hybrid AI (Gemini + Claude)
- **Tarot Readings** - 78 —Ç–∞—Ä–æ –∫–∞—Ä—Ç–∏ (Major + Minor Arcana) —Å AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- **Digital Oracle** - Premium AI —á–∞—Ç –∞—Å–∏—Å—Ç–µ–Ω—Ç (Jung + Stoicism + Daoism)
- **Authentication** - –ü—ä–ª–µ–Ω auth flow (Email/Password + OAuth —Å Google/Facebook)
- **Payments & Subscriptions** - Stripe integration (Checkout + Webhooks + Customer Portal)
- **Admin Dashboard** - Content management, users, subscriptions, analytics
- **Blog System** - –ü—ä–ª–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ç–∞–≥–æ–≤–µ, –∏ schema markup
- **PWA Support** - Installable app —Å offline functionality
- **Mobile-First UI** - Professional dark mode —Å bottom navigation
- **Daily Content** - Automated caching –∏ daily updates
- **Rate Limiting** - IP-based –∏ plan-based daily limits
- **Email System** - Newsletter integration —Å Resend
- **Security** - Comprehensive RLS policies –Ω–∞ –≤—Å–∏—á–∫–∏ —Ç–∞–±–ª–∏—Ü–∏

#### üëë 3 Flagship ULTIMATE Features:
- **Natal Chart Calculator** - –ü—ä–ª–Ω–∞ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞ —Å 10 –ø–ª–∞–Ω–µ—Ç–∏, 12 houses, aspects, AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
- **Synastry (–°—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç)** - –î–µ—Ç–∞–π–ª–Ω–∞ —Å–∏–Ω–∞—Å—Ç—Ä–∏—è –º–µ–∂–¥—É –¥–≤–µ –Ω–∞—Ç–∞–ª–Ω–∏ –∫–∞—Ä—Ç–∏
- **Personal Horoscope** - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω —Ö–æ—Ä–æ—Å–∫–æ–ø –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ –ø—ä–ª–Ω–∞ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞

### üìö Documentation

- **[PROJECT-STATUS.md](./PROJECT-STATUS.md)** - ‚≠ê Single source of truth –∑–∞ —Ç–µ–∫—É—â–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞
- **[ideas/Update-PLANING.md](./ideas/Update-PLANING.md)** - –î–µ—Ç–∞–π–ª–µ–Ω –ø–ª–∞–Ω –∑–∞ —Å–ª–µ–¥–≤–∞—â–∏—Ç–µ features –∏ –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è
- **[DEPLOYMENT.md](./DEPLOYMENT.md)** - Complete deployment checklist (if exists)
- **[ENV_VARIABLES.md](./ENV_VARIABLES.md)** - Detailed guide for environment variables (if exists)
- **[STRIPE_SETUP.md](./STRIPE_SETUP.md)** - Stripe integration guide (if exists)

### Partially Implemented (Needs Enhancement)

- **Email Campaigns** - Newsletter API –≥–æ—Ç–æ–≤, –ª–∏–ø—Å–≤–∞ cron job –∑–∞ daily emails
- **Push Notifications** - Web Push library installed, –ª–∏–ø—Å–≤–∞ VAPID setup
- **Referral System** - Database tables –≥–æ—Ç–æ–≤–∏, –ª–∏–ø—Å–≤–∞ UI
- **In-App Notifications** - Database ready, –ª–∏–ø—Å–≤–∞ UI component
- **Streak Rewards** - Tracking —Ä–∞–±–æ—Ç–∏, –Ω–æ –Ω—è–º–∞ rewards –º–µ—Ö–∞–Ω–∏–∑—ä–º

## üõ† Tech Stack

- **Frontend**: Next.js 15 (App Router) + React 19
- **Styling**: Tailwind CSS + Custom Mystic Theme (Shadcn/UI)
- **Database**: Supabase (PostgreSQL) + Row Level Security (RLS)
- **Authentication**: Supabase Auth (Email/Password + OAuth)
- **Payments**: Stripe (Checkout + Webhooks + Customer Portal)
- **AI Models**: OpenRouter (Hybrid Strategy)
  - üÜì FREE: Gemini 2.0 Flash (google/gemini-2.0-flash-exp:free)
  - üëë ULTIMATE: Claude 3.5 Sonnet (anthropic/claude-3.5-sonnet)
  - üîÑ Fallback: DeepSeek Chat (deepseek/deepseek-chat)
  - üñºÔ∏è Images: Gemini 2.5 Flash Image (google/gemini-2.5-flash-image)
- **Email**: Resend
- **Astrology**: circular-natal-horoscope-js
- **Animations**: Framer Motion + GSAP
- **Deployment**: Vercel
- **PWA**: next-pwa

## üìÅ Project Structure

```
vrachka-app/
‚îú‚îÄ‚îÄ app/                      # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ (public)/            # Public pages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ about/           # About page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/            # Auth pages (login, signup, forgot-password)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blog/            # Blog system (categories, tags, posts)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ horoscope/       # Horoscope pages (daily, weekly, monthly)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ onboarding/      # User onboarding flow
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx         # Landing page
‚îÇ   ‚îú‚îÄ‚îÄ (authenticated)/     # Protected routes (requires auth)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/       # Main dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ natal-chart/     # Natal Chart Calculator (ULTIMATE)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ oracle/          # AI Oracle chat
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ personal-horoscope/  # Personal Horoscope (ULTIMATE)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile/         # User profile & settings
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription/    # Subscription management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ synastry/        # Synastry calculator (ULTIMATE)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tarot/           # Tarot readings
‚îÇ   ‚îú‚îÄ‚îÄ admin/               # Admin dashboard (protected)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics/       # Analytics & stats
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blog/            # Blog management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ content/         # Content management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscriptions/   # Subscription overview
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users/           # User management
‚îÇ   ‚îî‚îÄ‚îÄ api/                 # API routes
‚îÇ       ‚îú‚îÄ‚îÄ admin/           # Admin APIs
‚îÇ       ‚îú‚îÄ‚îÄ horoscope/       # Horoscope generation
‚îÇ       ‚îú‚îÄ‚îÄ natal-chart/     # Natal chart calculations
‚îÇ       ‚îú‚îÄ‚îÄ oracle/          # AI Oracle API
‚îÇ       ‚îú‚îÄ‚îÄ tarot/           # Tarot reading API
‚îÇ       ‚îî‚îÄ‚îÄ webhooks/        # Stripe webhooks
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ astrology/           # Astrology-specific components
‚îÇ   ‚îú‚îÄ‚îÄ blog/                # Blog components
‚îÇ   ‚îú‚îÄ‚îÄ layout/              # Layout components (nav, header, footer)
‚îÇ   ‚îú‚îÄ‚îÄ oracle/              # Oracle chat components
‚îÇ   ‚îú‚îÄ‚îÄ subscription/        # Subscription components
‚îÇ   ‚îú‚îÄ‚îÄ tarot/               # Tarot components
‚îÇ   ‚îî‚îÄ‚îÄ ui/                  # Shadcn UI components
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ astrology/           # Astrology calculations & interpretations
‚îÇ   ‚îú‚îÄ‚îÄ openrouter.ts        # AI model configuration
‚îÇ   ‚îú‚îÄ‚îÄ supabase/            # Supabase clients (client, server, admin)
‚îÇ   ‚îú‚îÄ‚îÄ stripe.ts            # Stripe integration
‚îÇ   ‚îú‚îÄ‚îÄ types.ts             # TypeScript types
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts             # Utility functions
‚îÇ   ‚îî‚îÄ‚îÄ zodiac.ts            # Zodiac logic
‚îî‚îÄ‚îÄ supabase/
    ‚îî‚îÄ‚îÄ migrations/          # 30+ Database migrations (full schema)
```

## Quick Start

### Prerequisites
- Node.js 18+
- Supabase account (free tier OK for development)
- OpenRouter API key (supports free models like Gemini Flash)
- Stripe account (test mode OK for development)
- Resend account (for emails)
- Vercel account (for deployment)

### Local Development

1. **Clone and install**
```bash
git clone https://github.com/tomi191/Vrachka-app.git
cd vrachka
npm install
```

2. **Setup environment variables**
```bash
cp .env.example .env.local
```

Fill in all required variables. See **[ENV_VARIABLES.md](./ENV_VARIABLES.md)** for detailed guide.

3. **Setup Supabase database**
- Create project at supabase.com
- Run migration: `supabase/migrations/001_initial_schema.sql`
- Copy API keys to `.env.local`

4. **Setup Stripe products**
- Create two products: Basic (9.99 –ª–≤) and Ultimate (19.99 –ª–≤)
- Copy price IDs to `.env.local`
- See **[STRIPE_SETUP.md](./STRIPE_SETUP.md)** for details

5. **Run dev server**
```bash
npm run dev
```

Open http://localhost:3000

### Production Deployment

See **[DEPLOYMENT.md](./DEPLOYMENT.md)** for complete deployment checklist.

**Critical Post-Deployment Step:**
```bash
# Seed Tarot cards (one-time operation)
curl -X POST https://your-domain.vercel.app/api/admin/seed-tarot
```

## üé® Design System

### Color Palette
- **Mystic Purple**: Primary color for UI elements
- **Cosmic Pink**: Accent color for special features
- **Dark Background**: Gradient from mystic-950 to cosmic-950

### Typography
- **Font**: Geist Sans (body), Geist Mono (code)
- **Headings**: Bold, gradient text effect
- **Body**: Clean, readable mystic-200/300

### Components
All components follow Shadcn/UI patterns with custom mystic theme.

## üì± Mobile-First Approach

- Fixed bottom navigation (4 tabs)
- Sticky top header with streak & notifications
- Touch-optimized UI elements
- PWA-ready for installation

## üîê Authentication Flow (‚úÖ WORKING)

1. **Landing page** ‚Üí Sign up/Login buttons
2. **Auth options:**
   - Email/Password (Supabase Auth)
   - Google OAuth
   - Facebook OAuth
3. **Onboarding flow:**
   - Welcome screen
   - Name + Birth date collection
   - Zodiac sign auto-calculation
   - Redirect to Dashboard
4. **Protected routes** - Middleware checks auth status

## üí≥ Subscription Tiers (‚úÖ WORKING)

### üÜì FREE Plan
- Daily horoscope (all 12 signs)
- Card of the day (tarot)
- Streak tracking
- Blog access
- Basic profile
- **Limits:** 1 tarot reading/day, no AI Oracle

### üíô BASIC Premium (9.99 –ª–≤/–º–µ—Å–µ—Ü)
- All FREE features
- Weekly/Monthly horoscopes
- **5 tarot readings/day** (vs 1 free)
- **3 AI Oracle questions/day**
- Better AI models (Gemini Pro)
- Priority email support

### üëë ULTIMATE Premium (19.99 –ª–≤/–º–µ—Å–µ—Ü)
- All BASIC features
- **Unlimited tarot readings**
- **10 AI Oracle questions/day**
- **üåü Natal Chart Calculator** - –ü—ä–ª–Ω–∞ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞ —Å AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è
- **üåü Synastry Calculator** - –°—ä–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç –º–µ–∂–¥—É –¥–≤–µ –Ω–∞—Ç–∞–ª–Ω–∏ –∫–∞—Ä—Ç–∏
- **üåü Personal Horoscope** - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω –¥–Ω–µ–≤–µ–Ω —Ö–æ—Ä–æ—Å–∫–æ–ø –±–∞–∑–∏—Ä–∞–Ω –Ω–∞ –Ω–∞—Ç–∞–ª–Ω–∞ –∫–∞—Ä—Ç–∞
- Premium AI models (Claude 3.5 Sonnet)
- Priority support

## üìä Database Schema (25+ Tables)

### Core Tables
- **`profiles`** - User profile data (name, birth date, zodiac, streak)
- **`subscriptions`** - Stripe subscription management
- **`subscription_tiers`** - Tier configuration (FREE, BASIC, ULTIMATE)

### Content & Caching
- **`daily_horoscopes`** - Cached daily horoscopes (24h revalidation)
- **`weekly_horoscopes`** - Cached weekly horoscopes
- **`monthly_horoscopes`** - Cached monthly horoscopes
- **`tarot_cards`** - 78 tarot cards (Major + Minor Arcana)
- **`tarot_readings`** - User reading history

### AI & Oracle
- **`oracle_conversations`** - Chat history with AI Oracle
- **`oracle_messages`** - Individual messages
- **`ai_models`** - AI model configuration
- **`ai_usage_logs`** - Token usage tracking

### Astrology (ULTIMATE Features)
- **`natal_charts`** - Saved natal charts
- **`natal_chart_interpretations`** - AI interpretations
- **`synastry_readings`** - Compatibility readings
- **`personal_horoscopes`** - Personalized daily horoscopes

### Blog System
- **`blog_posts`** - Blog articles
- **`blog_categories`** - Categories
- **`blog_tags`** - Tags
- **`blog_post_tags`** - Many-to-many relation

### Engagement & Limits
- **`api_usage_limits`** - Daily rate limiting (IP + plan-based)
- **`user_streaks`** - Consecutive login tracking
- **`notifications`** - In-app notifications (DB ready)
- **`newsletter_subscribers`** - Email list

### Referrals & Rewards (Partially implemented)
- **`referral_codes`** - User referral codes
- **`referral_rewards`** - Reward tracking

### Admin
- **`admin_logs`** - Admin action logging
- **`feature_flags`** - Feature toggles

**All tables have comprehensive RLS (Row Level Security) policies.**

See `supabase/migrations/` for full schema (30+ migration files).

## ü§ñ AI Integration (Hybrid OpenRouter Strategy)

### AI Model Selection Logic

**Tier-Based Model Assignment:**
- üÜì **FREE Users** ‚Üí Gemini 2.0 Flash (google/gemini-2.0-flash-exp:free)
- üíô **BASIC Users** ‚Üí Gemini 2.0 Flash Pro
- üëë **ULTIMATE Users** ‚Üí Claude 3.5 Sonnet (anthropic/claude-3.5-sonnet)

**Fallback Chain:**
1. Primary model (based on tier)
2. DeepSeek Chat (deepseek/deepseek-chat)
3. Error message with retry option

**Cost Optimization:**
- FREE tier uses $0 cost models (Gemini Flash free version)
- Paid tiers get premium models for better quality
- Token usage logged for analytics

### Professional Prompts Based on World-Class Astrologers

**Horoscopes** (Susan Miller + Chani Nicholas methodology)
- –ü–µ—Ä—Å–æ–Ω–∞–ª–µ–Ω, –æ–∫—É—Ä–∞–∂–∞–≤–∞—â —Ç–æ–Ω
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏ —Å—ä–≤–µ—Ç–∏ (–Ω–µ –≥–µ–Ω–µ—Ä–∏—á–Ω–∏ —Ñ—Ä–∞–∑–∏)
- Love/Career/Health breakdown
- Lucky numbers

**Tarot** (Rachel Pollack + Arthur Waite)
- –ö–ª–∞—Å–∏—á–µ—Å–∫–∏ + –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- Spread types: Single, 3-Card, Love, Career
- Reversed card logic
- –ü—Ä–∞–∫—Ç–∏—á–Ω–∏ —Å—ä–≤–µ—Ç–∏

**Oracle** (Carl Jung + Stoicism + Daoism)
- –§–∏–ª–æ—Å–æ—Ñ—Å–∫–∞ –º—ä–¥—Ä–æ—Å—Ç
- –ù–µ –¥–∞–≤–∞ –≥–æ—Ç–æ–≤–∏ —Ä–µ—à–µ–Ω–∏—è - –¥–∞–≤–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞
- –ù–∞—Å–æ—á–≤–∞ –∫—ä–º —Å–æ–±—Å—Ç–≤–µ–Ω–∞ –º—ä–¥—Ä–æ—Å—Ç
- –ú–µ—Ç–∞—Ñ–æ—Ä–∏ –æ—Ç –ø—Ä–∏—Ä–æ–¥–∞—Ç–∞

### API Routes (40+ Endpoints)

#### Public APIs
- `GET /api/horoscope` - Generate daily horoscopes (all signs)
- `GET /api/horoscope/weekly` - Weekly horoscopes
- `GET /api/horoscope/monthly` - Monthly horoscopes
- `GET /api/blog` - Blog posts list
- `GET /api/blog/categories` - Blog categories
- `GET /api/blog/tags` - Blog tags
- `POST /api/newsletter/subscribe` - Newsletter subscription

#### Authenticated APIs
- `GET /api/profile` - Get user profile
- `PUT /api/profile` - Update profile
- `GET /api/streak` - Get streak data
- `POST /api/tarot/reading` - Generate tarot reading
- `GET /api/tarot/history` - Reading history
- `POST /api/oracle` - Send message to AI Oracle
- `GET /api/oracle/conversations` - Conversation list
- `DELETE /api/oracle/conversation/[id]` - Delete conversation

#### ULTIMATE APIs (Premium)
- `POST /api/natal-chart/calculate` - Generate natal chart
- `GET /api/natal-chart/list` - User's natal charts
- `GET /api/natal-chart/[id]` - Get specific chart
- `DELETE /api/natal-chart/[id]` - Delete chart
- `POST /api/synastry/calculate` - Calculate synastry
- `GET /api/synastry/list` - Synastry readings
- `POST /api/personal-horoscope` - Generate personal horoscope

#### Subscription APIs
- `POST /api/checkout` - Create Stripe checkout session
- `POST /api/portal` - Create customer portal session
- `GET /api/subscription` - Get current subscription
- `POST /api/webhooks/stripe` - Stripe webhook handler

#### Admin APIs (Protected)
- `GET /api/admin/users` - List all users
- `GET /api/admin/subscriptions` - Subscription overview
- `GET /api/admin/analytics` - Platform analytics
- `POST /api/admin/seed-tarot` - Seed tarot cards (one-time)
- `POST /api/admin/blog` - Create/edit blog posts

### Caching & Rate Limiting

- **Horoscopes**: Cached 24h per zodiac sign
- **Tarot**: Rate limited by subscription (1/day free, 5/day basic, 20/day ultimate)
- **Oracle**: Rate limited (3/day basic, 10/day ultimate)
- **Usage tracking**: Stored in `api_usage_limits` table

## üöÄ Deployment –∫—ä–º Vercel

### –°—Ç—ä–ø–∫–∞ 1: Push –∫—ä–º GitHub

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–π Git (–∞–∫–æ –Ω–µ –µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–æ)
git init

# –î–æ–±–∞–≤–∏ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ
git add .

# –ù–∞–ø—Ä–∞–≤–∏ initial commit
git commit -m "Initial commit - Vrachka app ready for deployment"

# –î–æ–±–∞–≤–∏ remote repository
git branch -M main
git remote add origin https://github.com/tomi191/Vrachka-app.git

# Push –∫—ä–º GitHub
git push -u origin main
```

### –°—Ç—ä–ø–∫–∞ 2: Import –≤ Vercel

1. –û—Ç–∏–¥–∏ –Ω–∞ [vercel.com](https://vercel.com) –∏ –≤–ª–µ–∑ —Å GitHub –∞–∫–∞—É–Ω—Ç
2. –ö–ª–∏–∫–Ω–∏ **"Add New..." ‚Üí Project**
3. Import **tomi191/Vrachka-app** repository
4. **–í–ê–ñ–ù–û**: –ü—Ä–æ–º–µ–Ω–∏ **Root Directory** –Ω–∞ `vrachka` (–Ω–µ root!)
5. –ö–ª–∏–∫–Ω–∏ **Deploy** (–∑–∞—Å–µ–≥–∞ –ë–ï–ó environment variables)

### –°—Ç—ä–ø–∫–∞ 3: –î–æ–±–∞–≤–∏ Environment Variables

–°–ª–µ–¥ deploy, –æ—Ç–∏–¥–∏ –Ω–∞ **Settings ‚Üí Environment Variables** –∏ –¥–æ–±–∞–≤–∏:

```env
# Supabase (–∫–æ–ø–∏—Ä–∞–π –æ—Ç .env.local)
NEXT_PUBLIC_SUPABASE_URL=https://kpdumthwuahkuaggilpz.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=—Ç–≤–æ—è_anon_key
SUPABASE_SERVICE_ROLE_KEY=—Ç–≤–æ—è_service_role_key

# Stripe (TEST keys –∑–∞ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ —Ç–µ—Å—Ç–≤–∞–Ω–µ)
STRIPE_SECRET_KEY=sk_test_—Ç–≤–æ—è_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_—Ç–≤–æ—è_key
STRIPE_WEBHOOK_SECRET=whsec_temp_placeholder
STRIPE_BASIC_PRICE_ID=price_—Ç–≤–æ—è_basic_id
STRIPE_ULTIMATE_PRICE_ID=price_—Ç–≤–æ—è_ultimate_id

# OpenAI
OPENAI_API_KEY=sk-—Ç–≤–æ—è_openai_key

# App URL (–í–ê–ñ–ù–û - –ø—Ä–æ–º–µ–Ω–∏ —Å–ª–µ–¥ deploy!)
NEXT_PUBLIC_APP_URL=https://—Ç–≤–æ—è-vercel-url.vercel.app
```

**–í–ê–ñ–ù–û**: –°–ª–µ–¥ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ variables, –∫–ª–∏–∫–Ω–∏ **Redeploy** –∑–∞ –¥–∞ –∑–∞—Ä–µ–¥—è—Ç –ø—Ä–æ–º–µ–Ω–∏—Ç–µ!

### –°—Ç—ä–ø–∫–∞ 4: Setup Production Stripe Webhooks

1. –ö–æ–ø–∏—Ä–∞–π —Ç–≤–æ—è Vercel URL (–Ω–∞–ø—Ä. `https://vrachka.vercel.app`)
2. –û—Ç–∏–¥–∏ –Ω–∞ [Stripe Dashboard](https://dashboard.stripe.com) ‚Üí **Developers ‚Üí Webhooks**
3. –ö–ª–∏–∫–Ω–∏ **+ Add endpoint**
4. –ü–æ–ø—ä–ª–Ω–∏:
   - **Endpoint URL**: `https://—Ç–≤–æ—è-url.vercel.app/api/webhooks/stripe`
   - **Description**: `Vrachka Production Webhooks`
5. Select events:
   - ‚úÖ `checkout.session.completed`
   - ‚úÖ `customer.subscription.created`
   - ‚úÖ `customer.subscription.updated`
   - ‚úÖ `customer.subscription.deleted`
   - ‚úÖ `invoice.payment_succeeded`
   - ‚úÖ `invoice.payment_failed`
6. –ö–ª–∏–∫–Ω–∏ **Add endpoint**
7. **–ö–æ–ø–∏—Ä–∞–π Signing secret** (–∑–∞–ø–æ—á–≤–∞ —Å `whsec_...`)
8. –í—ä—Ä–Ω–∏ —Å–µ –≤—ä–≤ Vercel ‚Üí Settings ‚Üí Environment Variables
9. **–ü—Ä–æ–º–µ–Ω–∏** `STRIPE_WEBHOOK_SECRET` –Ω–∞ –Ω–æ–≤–∏—è production secret
10. **Redeploy** –æ—Ç–Ω–æ–≤–æ!

### –°—Ç—ä–ø–∫–∞ 5: –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ Production

1. –û—Ç–≤–æ—Ä–∏ `https://—Ç–≤–æ—è-url.vercel.app`
2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞–π –Ω–æ–≤ –∞–∫–∞—É–Ω—Ç
3. –¢–µ—Å—Ç–≤–∞–π checkout flow —Å Stripe test card: `4242 4242 4242 4242`
4. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ webhook event —Å–µ –ø–æ–ª—É—á–∞–≤–∞ –≤ Stripe Dashboard
5. –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ subscription —Å–µ –æ–±–Ω–æ–≤—è–≤–∞ –≤ Supabase

### üî¥ Production Checklist

- [ ] GitHub repo –µ private –∏–ª–∏ public (—Å–ø–æ—Ä–µ–¥ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–∏—è—Ç–∞)
- [ ] –í—Å–∏—á–∫–∏ environment variables —Å–∞ –¥–æ–±–∞–≤–µ–Ω–∏ –≤—ä–≤ Vercel
- [ ] `NEXT_PUBLIC_APP_URL` –µ –ø—Ä–æ–º–µ–Ω–µ–Ω –∫—ä–º production URL
- [ ] Production Stripe webhook –µ —Å—ä–∑–¥–∞–¥–µ–Ω –∏ signing secret –¥–æ–±–∞–≤–µ–Ω
- [ ] Test checkout —Ä–∞–±–æ—Ç–∏ –≤ production
- [ ] Supabase RLS policies –ø–æ–∑–≤–æ–ª—è–≤–∞—Ç operations
- [ ] `.env.local` –ù–ï –µ commit-–≤–∞–Ω –≤ Git (–ø—Ä–æ–≤–µ—Ä–∫–∞!)

### üöÄ –ë—ä–¥–µ—â–∏ Deployments

–°–ª–µ–¥ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∏—è deploy, –ø—Ä–æ–º–µ–Ω–∏ —Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ deploy-–≤–∞—Ç:

```bash
git add .
git commit -m "Your commit message"
git push
```

Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —â–µ deploy-–Ω–µ –Ω–æ–≤–∞—Ç–∞ –≤–µ—Ä—Å–∏—è!

### üìù Custom Domain (Optional)

1. Vercel Settings ‚Üí Domains
2. –î–æ–±–∞–≤–∏ —Ç–≤–æ–π –¥–æ–º–µ–π–Ω (–Ω–∞–ø—Ä. `vrachka.eu`)
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π DNS —Å–ø–æ—Ä–µ–¥ Vercel –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏—Ç–µ
4. **–ü—Ä–æ–º–µ–Ω–∏** `NEXT_PUBLIC_APP_URL` –≤ environment variables
5. **–ü—Ä–æ–º–µ–Ω–∏** Stripe webhook URL –∫—ä–º –Ω–æ–≤–∏—è –¥–æ–º–µ–π–Ω

## üó∫Ô∏è Roadmap

### ‚úÖ Phase 1 - MVP (COMPLETED)
- [x] Authentication + Onboarding flow
- [x] AI Horoscopes (Daily/Weekly/Monthly)
- [x] Tarot Readings (78 cards - Major + Minor Arcana)
- [x] Digital Oracle (AI chat)
- [x] Stripe Payments + Webhooks
- [x] Admin Dashboard
- [x] Subscription Management (3 tiers)
- [x] Blog System (categories, tags, schema markup)
- [x] PWA Support
- [x] **üëë Natal Chart Calculator** (ULTIMATE)
- [x] **üëë Synastry Calculator** (ULTIMATE)
- [x] **üëë Personal Horoscope** (ULTIMATE)

### üöÄ Phase 2 - Growth & SEO (CURRENT - Next 2-3 months)

#### P0 - Critical (Weeks 1-2)
- [ ] Homepage SEO optimization (H1, meta, 200+ words)
- [ ] Horoscope page SEO (educational content, FAQ)
- [ ] About page enrichment (300+ words)
- [ ] Tarot page SEO (500+ words, FAQ)
- [ ] Daily email cron job (Vercel cron)
- [ ] Moon Phase Tracker widget
- [ ] Rating system (1-5 stars)

#### P1 - High Priority (Weeks 3-5)
- [ ] Service pages expansion (/tarot/love, /tarot/career, etc.)
- [ ] Blog category/tag SEO descriptions
- [ ] Welcome email sequence
- [ ] Beautiful share cards (@vercel/og)
- [ ] Premium teasers in UI
- [ ] Feature comparison table
- [ ] Social proof counters

#### P2 - Medium Priority (Months 2-3)
- [ ] Weekly/Monthly calendar views
- [ ] AI Chat Widget (floating bubble)
- [ ] Astrology Events Calendar
- [ ] Planetary Transits Widget
- [ ] Interactive Compatibility Calculator (quick version)
- [ ] Specialized AI Oracles (Love, Career, Health)
- [ ] Streak rewards system
- [ ] Referral program UI

### üéØ Phase 3 - Advanced Features (Months 4-6)
- [ ] Push Notifications (VAPID setup)
- [ ] Numerology Calculator
- [ ] Charts & Trends Visualization
- [ ] Video/Audio Horoscope (Text-to-Speech)
- [ ] Community Comments (moderated)
- [ ] 3D Visual Effects (WebGL)
- [ ] Advanced gamification

### üåç Phase 4 - Scaling (6+ months)
- [ ] Mobile apps (React Native)
- [ ] Multi-language support (EN, DE, etc.)
- [ ] API for third-party integration
- [ ] White-label solution
- [ ] Analytics dashboard (Posthog/Mixpanel)
- [ ] A/B testing infrastructure

## üìù Contributing

This is a private project. Contact the team for contribution guidelines.

## üìÑ License

Proprietary - All rights reserved ¬© 2025 Vrachka

## üôè Credits

- UI Framework: [Shadcn/UI](https://ui.shadcn.com/)
- Icons: [Lucide Icons](https://lucide.dev/)
- Fonts: [Geist](https://vercel.com/font)
- Database: [Supabase](https://supabase.com)

---

**Built with ‚ù§Ô∏è and ‚ú® by the Vrachka team**
